<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQtExtras: Build Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JKQtExtras
   </div>
   <div id="projectbrief">a library of useful Qt widgets and tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_buildinstructions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Build Instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#page_buildinstructions_CMAKE">Build using CMake</a><ul><li class="level2"><a href="#page_buildinstructions_CMAKE_RUN">Running a Build with CMake</a><ul><li class="level3"><a href="#page_buildinstructions_CMAKE_MAKEFILE">Building with MinGW/GNU/... Makefiles</a></li>
<li class="level3"><a href="#page_buildinstructions_CMAKE_VSTUDIO">Building with Visual Studio</a></li>
</ul>
</li>
<li class="level2"><a href="#page_buildinstructions_CMAKE_CONFIG">Configuring a Build with CMake</a></li>
<li class="level2"><a href="#page_buildinstructions_CMAKE_USAGE">Using a built, generated with CMake</a></li>
</ul>
</li>
<li class="level1"><a href="#page_buildinstructions_QMAKE">Build using QMake</a><ul><li class="level2"><a href="#page_buildinstructions_QMAKEINCLUDE">QMake Include Project</a></li>
<li class="level2"><a href="#page_buildinstructions_QMAKESTATIC">QMake Static Library</a></li>
<li class="level2"><a href="#page_buildinstructions_QMAKEDYNAMIC">QMake Dynamic Library</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This page explains how to build JKQtExtras and to use the results in your own Projects.</p>
<h1><a class="anchor" id="page_buildinstructions_CMAKE"></a>
Build using CMake</h1>
<h2><a class="anchor" id="page_buildinstructions_CMAKE_RUN"></a>
Running a Build with CMake</h2>
<p>The preferred way to build JKQtExtras is using <a href="https://cmake.org/">CMake</a>. You can find a detailed explanation of CMake at <a href="https://cliutils.gitlab.io/modern-cmake/">https://cliutils.gitlab.io/modern-cmake/</a>. The CMake-build is defined in <code>CMakeLists.txt</code> files, found in many of the directories of the code repository. Especially in the root directory and the two subdirectories <code></code>./lib/ and <code></code>./examples/ .</p>
<p>You can build JKQtExtras (and also the examples) by either opening the file <a href="https://github.com/jkriege2/JKQtExtras/blob/master/CMakeLists.txt">CMakeLists.txt</a> in QTCreator (which has CMake integration), or by calling <code>CMake</code> by hand. How to do this depends on your local system und build environment.</p>
<h3><a class="anchor" id="page_buildinstructions_CMAKE_MAKEFILE"></a>
Building with MinGW/GNU/... Makefiles</h3>
<p>You can use (MinGW) Makefiles by calling:</p>
<div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake .. -G &quot;MinGW Makefiles&quot; &quot;-DCMAKE_PREFIX_PATH=&lt;path_to_your_qt_sources&gt;&quot;</div>
<div class="line">$ cmake --build . --config &quot;Debug&quot;</div>
<div class="line">$ cmake --build . --config &quot;Debug&quot; --target install</div>
</div><!-- fragment --><h3><a class="anchor" id="page_buildinstructions_CMAKE_VSTUDIO"></a>
Building with Visual Studio</h3>
<p>For Visual Studio it could look like this: </p><div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake .. -G &quot;Visual Studio 15 2017 Win64&quot; &quot;-DCMAKE_PREFIX_PATH=&lt;path_to_your_qt_sources&gt;&quot;</div>
</div><!-- fragment --><p> Where <code></code> &lt;path_to_your_qt_sources&gt; could be e.g. <code>C:/development/Qt5/5</code>.12.0/msvc2017_64 . This call results in a Visual Studio solution <code>build/JKQtExtras.sln</code> that you can load and compile from the Visual Studio IDE. Alternatively you can also build the solution directly calling: </p><div class="fragment"><div class="line">$ cmake --build . --config &quot;Debug&quot;</div>
</div><!-- fragment --><p> Afterwards you can install the library by </p><div class="fragment"><div class="line">$ cmake --build . --config &quot;Debug&quot; --target install</div>
</div><!-- fragment --><h2><a class="anchor" id="page_buildinstructions_CMAKE_CONFIG"></a>
Configuring a Build with CMake</h2>
<p>The CMake build system offers several configuration variables that you may set/change to modify the outcome of the build:</p><ul>
<li><code>CMAKE_PREFIX_PATH</code> : add the path to your Qt installatrion to this variable, so the <code>find_package(Qt5...)</code> commands find the libraries you want to use</li>
<li><code>JKQtExtras_BUILD_SHARED_LIBS</code> : Build as shared library (default: <code>ON</code> )</li>
<li><code>JKQtExtras_BUILD_STATIC_LIBS</code> : Build as static library (default: <code>ON</code> )</li>
<li><code>JKQtExtras_BUILD_DECORATE_LIBNAMES_WITH_BUILDTYPE</code> : If set, the build-type is appended to the library name (default: <code>ON</code> )</li>
<li><code>JKQtExtras_BUILD_EXAMPLES</code> : Build examples (default: <code>ON</code> )</li>
<li><code>CMAKE_INSTALL_PREFIX</code> : Install directory for the library</li>
</ul>
<h2><a class="anchor" id="page_buildinstructions_CMAKE_USAGE"></a>
Using a built, generated with CMake</h2>
<p>After building and installing JKQtExtras you have all files that you need inside the instal directory:</p><ul>
<li><code></code> &lt;INSTALLDIR&gt;/include contains all required header files</li>
<li><code></code> &lt;INSTALLDIR&gt;/bin contains the shared libraries</li>
<li><code></code> &lt;INSTALLDIR&gt;/lib contains the link libraries</li>
<li><code></code> &lt;INSTALLDIR&gt;/lib/cmake contains files necessary for CMake's <code>find_package()</code> to work</li>
</ul>
<p>You can find an example project that uses a complete cmake-build here: JKQTCMakeLinkExample (online: <a href="https://github.com/jkriege2/JKQtExtras/blob/master/examples/cmake_link_example">https://github.com/jkriege2/JKQtExtras/blob/master/examples/cmake_link_example</a>).</p>
<p>Here is the <code>CMakeLists.txt</code> from that directory:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># set minimum required CMake-Version</span></div>
<div class="line">cmake_minimum_required(VERSION 3.10)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># set Project name</span></div>
<div class="line">set(EXAMPLE_NAME simpletest)</div>
<div class="line">set(EXENAME jkqtetest_${EXAMPLE_NAME})</div>
<div class="line">project(${EXAMPLE_NAME} LANGUAGES CXX)</div>
<div class="line"> </div>
<div class="line"># some basic configurations</div>
<div class="line">set(CMAKE_AUTOMOC ON)</div>
<div class="line">set(CMAKE_INCLUDE_CURRENT_DIR ON)</div>
<div class="line">set(CMAKE_CXX_STANDARD 11)</div>
<div class="line"><span class="preprocessor">#set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Configure project for usage of Qt5</span></div>
<div class="line">find_package(Qt5 COMPONENTS Core Gui Widgets PrintSupport Svg Xml OpenGl REQUIRED)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># include JKQtExtras</span></div>
<div class="line">find_package(JKQtExtrasLib REQUIRED)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># For Visual Studio, we need to set some additional compiler options</span></div>
<div class="line"><span class="keywordflow">if</span>(MSVC)</div>
<div class="line">  add_compile_options(/EHsc)</div>
<div class="line">  <span class="preprocessor"># To enable M_PI, M_E,...</span></div>
<div class="line">  add_definitions(/D_USE_MATH_DEFINES)</div>
<div class="line">  <span class="preprocessor"># To Prevent Errors with min() and max()</span></div>
<div class="line">  add_definitions(/DNOMINMAX)</div>
<div class="line">  <span class="preprocessor"># To fix error: C2338: va_start argument must not</span></div>
<div class="line"><span class="preprocessor">  # have reference type and must not be parenthesized</span></div>
<div class="line">  add_definitions(/D_CRT_NO_VA_START_VALIDATION)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># add the example executable </span></div>
<div class="line">add_executable(${EXENAME} WIN32 simpletest.cpp)</div>
<div class="line"># ... link against Qt5 and JKQtExtrasLib</div>
<div class="line">#    (you could use JKQtExtrasSharedLib <span class="keywordflow">if</span> you don<span class="stringliteral">&#39;t want to link againast the </span></div>
<div class="line"><span class="stringliteral">#     static version, but against the shared/DLL version).</span></div>
<div class="line"><span class="stringliteral">target_link_libraries(${EXENAME} Qt5::Core Qt5::Widgets Qt5::Gui Qt5::PrintSupport Qt5::Svg Qt5::Xml JKQtExtrasLib)</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral"># Installation</span></div>
<div class="line"><span class="stringliteral">install(TARGETS ${EXENAME} RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})</span></div>
</div><!-- fragment --><p>To build this example, you first need to make a subdirectory <code>build</code> and then call CMake form that subdirectory: </p><div class="fragment"><div class="line">.sh</div>
<div class="line">   $ mkdir build</div>
<div class="line">   $ cd build</div>
<div class="line">   $ cmake .. -G <span class="stringliteral">&quot;&lt;GENERATOR&gt;&quot;</span> <span class="stringliteral">&quot;-DCMAKE_PREFIX_PATH=&lt;path_to_your_qt_sources&gt; -DCMAKE_MODULE_PATH=&lt;path_to_lib/cmake_dir_of_JKQtExtras&gt;&quot;</span></div>
</div><!-- fragment --><p> The you can use the generated makefiles (e.g. load them in an editor, or build them jsing <code>make</code> ). In the last line above, you need to specify two directories:</p><ul>
<li><code></code> &lt;path_to_your_qt_sources&gt; points to you Qt installation</li>
<li><code>&lt;path_to_lib/cmake_dir_of_JKQtExtras&gt;</code> points to the directory containing the <code>XYZ.cmake</code> -files from the JKQtExtras build. Typically this is <code></code> &lt;JKQtExtras_INSTALL_DIR&gt;/lib/cmake , where <code></code> &lt;JKQtExtras_INSTALL_DIR&gt; is the directory into which you installed JKQtExtras.</li>
</ul>
<h1><a class="anchor" id="page_buildinstructions_QMAKE"></a>
Build using QMake</h1>
<h2><a class="anchor" id="page_buildinstructions_QMAKEINCLUDE"></a>
QMake Include Project</h2>
<p>If you want to simply include the JKQtExtras Source code into your projects, without build a shared or static library and linking against it, you can use one of these QMake-Include files:</p><ul>
<li><a href="https://github.com/jkriege2/JKQtExtras/blob/master/lib/JKQtExtras.pri">lib/JKQtExtras.pri</a> includes the complete library (JKQtExtras, JKQTFastPlotter, JKQTMathText)</li>
</ul>
<p>In your QMake-projects it is then sufficient to add a line like: </p><div class="fragment"><div class="line">include(&lt;PATHTOJKQtExtrasDIR&gt;/lib/JKQtExtras.pri)</div>
</div><!-- fragment --><h2><a class="anchor" id="page_buildinstructions_QMAKESTATIC"></a>
QMake Static Library</h2>
<p>There is a single <code>.PRO</code>-file, that can be used to build the full library:</p><ul>
<li><a href="https://github.com/jkriege2/JKQtExtras/blob/master/qmake/staticlib/JKQtExtraslib/JKQtExtraslib.pro">qmake/staticlib/JKQtExtraslib/JKQtExtraslib.pro</a> builds the complete library (JKQtExtras, JKQTFastPlotter, JKQTMathText) as static link library</li>
</ul>
<p>This will produce a static link library that you can include into your projects, e.g. with the following QMake-snippet:</p>
<div class="fragment"><div class="line"># include JKQtExtras library</div>
<div class="line">DEPENDPATH += \</div>
<div class="line">              &lt;PATHTOJKQtExtrasDIR&gt;/lib \</div>
<div class="line">              &lt;PATHTOJKQtExtrasDIR&gt;/qmake/staticlib/JKQtExtraslib</div>
<div class="line">INCLUDEPATH += &lt;PATHTOJKQtExtrasDIR&gt;/lib</div>
<div class="line">CONFIG (debug, debug|release) {</div>
<div class="line">    DEPENDPATH += &lt;PATHTOJKQtExtrasDIR&gt;/qmake/staticlib/JKQtExtraslib/debug</div>
<div class="line">    LIBS += -L&lt;PATHTOJKQtExtrasDIR&gt;/qmake/staticlib/JKQtExtraslib/debug -lJKQtExtraslib_debug</div>
<div class="line">} else {</div>
<div class="line">    DEPENDPATH += &lt;PATHTOJKQtExtrasDIR&gt;/qmake/staticlib/JKQtExtraslib/release</div>
<div class="line">    LIBS += -L&lt;PATHTOJKQtExtrasDIR&gt;/qmake/staticlib/JKQtExtraslib/release -lJKQtExtraslib</div>
<div class="line">}</div>
</div><!-- fragment --><p>This snippet assumes that you built the libraries with the provided <code>.PRO</code>-files. You can also add a second <code>.pro</code>-file to your projects, which integrates both as subdirs. Such files are used for all examples in this project. Here is an example: </p><div class="fragment"><div class="line">TEMPLATE = subdirs</div>
<div class="line"> </div>
<div class="line"># the (static library version) of JKQtExtras</div>
<div class="line">JKQtExtraslib_static.file = ../../qmake/staticlib/JKQtExtraslib/JKQtExtraslib.pro</div>
<div class="line"> </div>
<div class="line"># your project file, with declared dependencies on JKQtExtraslib_static</div>
<div class="line">test_styling.file=$$PWD/test_styling.pro</div>
<div class="line">test_styling.depends = JKQtExtraslib_static</div>
<div class="line"> </div>
<div class="line"># add the two entries to SUBDIRS</div>
<div class="line">SUBDIRS +=  JKQtExtraslib_static test_styling</div>
</div><!-- fragment --><h2><a class="anchor" id="page_buildinstructions_QMAKEDYNAMIC"></a>
QMake Dynamic Library</h2>
<p>There is a single <code>.PRO</code>-files, that can be used to build the full library:</p><ul>
<li><a href="https://github.com/jkriege2/JKQtExtras/blob/master/qmake/sharedlib/JKQtExtraslib/JKQtExtraslib.pro">qmake/sharedlib/JKQtExtraslib/JKQtExtraslib.pro</a> builds the complete library (JKQtExtras, JKQTFastPlotter, JKQTMathText) as shared library</li>
</ul>
<p>This will produce a dynamic link library that you can include into your projects, e.g. with the following QMake-snippet:</p>
<div class="fragment"><div class="line"># include JKQtExtras library</div>
<div class="line">DEPENDPATH += \</div>
<div class="line">              &lt;PATHTOJKQtExtrasDIR&gt;/lib \</div>
<div class="line">              &lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib</div>
<div class="line">INCLUDEPATH += &lt;PATHTOJKQtExtrasDIR&gt;/lib</div>
<div class="line">DEFINES += JKQTCOMMON_LIB_IN_DLL JKQTFASTPLOTTER_LIB_IN_DLL JKQTMATHTEXT_LIB_IN_DLL JKQtExtras_LIB_IN_DLL</div>
<div class="line">CONFIG (debug, debug|release) {</div>
<div class="line">    # ensure that DLLs are copied to the output directory</div>
<div class="line">    install_JKQtExtras_dll.files = &lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib/debug/JKQtExtraslib_debug.*</div>
<div class="line">    install_JKQtExtras_dll.path = $$OUT_PWD</div>
<div class="line">    INSTALLS += install_JKQtExtras_dll</div>
<div class="line">    # link agains DLLs</div>
<div class="line">    DEPENDPATH += &lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib/debug</div>
<div class="line">    LIBS += -L&lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib/debug -lJKQtExtraslib_debug</div>
<div class="line">} else {</div>
<div class="line">    # ensure that DLLs are copied to the output directory</div>
<div class="line">    install_JKQtExtras_dll.files = &lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib/release/JKQtExtraslib.*</div>
<div class="line">    install_JKQtExtras_dll.path = $$OUT_PWD</div>
<div class="line">    INSTALLS += install_JKQtExtras_dll</div>
<div class="line">    # link agains DLLs</div>
<div class="line">    DEPENDPATH += &lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib/release</div>
<div class="line">    LIBS += -L&lt;PATHTOJKQtExtrasDIR&gt;/qmake/sharedlib/JKQtExtraslib/release -lJKQtExtraslib</div>
<div class="line">}</div>
</div><!-- fragment --><p>This snippet assumes that you built the libraries with the provided <code>.PRO</code>-files. You can also add a second <code>.pro</code>-file to your projects, which integrates both as subdirs. Such files are used for all examples in this project. Here is an example: </p><div class="fragment"><div class="line">TEMPLATE = subdirs</div>
<div class="line"> </div>
<div class="line"># the (shared library version) of JKQtExtras</div>
<div class="line">JKQtExtraslib_shared.file = ../../qmake/sharedlib/JKQtExtraslib.pro</div>
<div class="line"> </div>
<div class="line"># your project file, with declared dependencies on JKQtExtraslib_shared</div>
<div class="line">test_styling.file=$$PWD/test_styling.pro</div>
<div class="line">test_styling.depends = JKQtExtraslib_shared</div>
<div class="line"> </div>
<div class="line"># add the two entries to SUBDIRS</div>
<div class="line">SUBDIRS +=  JKQtExtraslib_shared test_styling</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>You will have to run a deployment step <code>make install</code> before running your executable, so the shared libararies are actually copied to the output directory (see <code>INSTALLS + ...</code> above). </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Oct 12 2020 08:28:48 for JKQtExtras by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
